<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="main.css">
    <title>Title</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
<!--<form action='' class='form'>-->
<!--  <p class='field half'>-->
<!--    <label class='label' for='select'>Выберете Zywall</label>-->
<!--    <select class='select' id='select'>-->
<!--      <option selected value=''>IP адрес</option>-->
<!--      <option value='kot'>Котельники - 192.168.200.1</option>-->
<!--      <option value='gol'>Гольяново - 192.168.20.1</option>-->
<!--      <option value='rostov'>Ростов-на-Дону 192.168.10.1</option>-->
<!--      <option value='spb'>Санкт-Петербург - 192.168.40.1</option>-->
<!--      <option value='vor'>Воронеж - 192.168.30.1</option>-->
<!--      <option value='kaz'>Казань - 192.168.90.1</option>-->
<!--      <option value='yar'>Ярославль - 192.168.120.1</option>-->
<!--    </select>-->
<!--  </p>-->
<!--  <p class='field half'>-->
<!--    <label class='label' for='text'>Mac-Адрес:</label>-->
<!--    <input class='text-input' id='text' name='text' required type='text'>-->
<!--  </p>-->
<!--  <p class='field half'>-->
<!--    <label class='label' for='text'>Имя устройства:</label>-->
<!--    <input class='text-input' id='name' name='text' required type='text'>-->
<!--  </p>-->
<!--  <div class='field'>-->
<!--    <label class='label'>Добавить в Zabbix?</label>-->
<!--    <ul class='options'>-->
<!--      <li class='option'>-->
<!--        <input class='option-input' id='option-0' name='option' type='radio' value='0'>-->
<!--        <label class='option-label' for='option-0'>Да</label>-->
<!--      </li>-->
<!--      <li class='option'>-->
<!--        <input class='option-input' id='option-1' name='option' type='radio' value='1'>-->
<!--        <label class='option-label' for='option-1'>Нет</label>-->
<!--      </li>-->
<!--    </ul>-->
<!--  </div>-->
<!--  <div class='field'>-->
<!--    <label class='label'>Теги для Zabbix</label>-->
<!--    <ul class='checkboxes'>-->
<!--      <li class='checkbox'>-->
<!--        <input class='checkbox-input' id='choice-1' name='choice' type='checkbox' value='1'>-->
<!--        <label class='checkbox-label' for='choice-1'>Камера</label>-->
<!--      </li>-->
<!--      <li class='checkbox'>-->
<!--        <input class='checkbox-input' id='choice-2' name='choice' type='checkbox' value='2'>-->
<!--        <label class='checkbox-label' for='choice-2'>Точка</label>-->
<!--      </li>-->
<!--      <li class='checkbox'>-->
<!--        <input class='checkbox-input' id='choice-3' name='choice' type='checkbox' value='3'>-->
<!--        <label class='checkbox-label' for='choice-3'>ВР</label>-->
<!--      </li>-->
<!--      <li class='checkbox'>-->
<!--        <input class='checkbox-input' id='choice-4' name='choice' type='checkbox' value='3'>-->
<!--        <label class='checkbox-label' for='choice-4'>Свитч</label>-->
<!--      </li>-->
<form id ='form'>
  <input type = 'text' placeholder="Имя" id ='name'>
  <input type = 'text' placeholder="IP" id ='ip'>
  <button id = 'button'>Окей</button>
  <div id = 'error'></div>
</form>
<!--    </ul>-->
<!--  </div>-->
<!--&lt;!&ndash;  <p class='field half'>&ndash;&gt;-->
<!--&lt;!&ndash;    <input class='button' type='submit' value='Отправить'>&ndash;&gt;-->
<!--&lt;!&ndash;  </p>&ndash;&gt;-->
  <script>
    let tg = window.Telegram.WebApp;
    let form = document.getElementById('form');
    let button = document.getElementById('button');
    tg.expand()

    button.addEventListener('click', () => {
        document.getElementById("error").innerText = '';
        let ip = document.getElementById("ip").value;
        let mac = document.getElementById("mac").value;
        let name = document.getElementById("name").value;
        let zabbix = document.getElementById("zabbix").value;
        let tags = document.getElementById("tags").value;
        if(name, length < 5) {
          document.getElementById("error").innerText = 'Ошибка в имени';
          return;
        }
        if(mac, length < 5) {
          document.getElementById("error").innerText = 'Ошибка mac';
          return;
        }
        if(ip, length < 5) {
          document.getElementById("error").innerText = 'Ошибка ip';
          return;
        }

        let data = {
          name: name,
          ip: ip
        }
        tg.sendData(JSON.stringify(data));
        tg.close();
    });
  </script>
</body>
</html>
